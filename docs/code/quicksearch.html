<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"Application.js.html":{"id":"Application.js.html","title":"Source: Application.js","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Source: Application.js /* global sessionStorage, navigator */ import { createMethodSignature, GUID } from './utils' import DataAPI from './DataAPI' import EventSystem from './EventSystem' import UserSchema from './schemas/User' const allModels = { User: UserSchema } /** * Private properties */ /** * Application name * @Private * @type {String} */ let _name = 'My Application Name' /** * Models map * @Private * @type {Map} */ const _models = new Map() /** * Is application started * @Private * @type {Boolean} */ let _started = false /** * Data strategy * recognized values: offlineFirst, onlineFirst, offline, online * @Private * @type {String} */ let _dataStrategy = 'offlineFirst' let _guid = GUID() let _useWorker = false let _serviceWorker = false const _workerOnMessage = function (event) { const { cmd /* , message */ } = event.data switch (cmd) { case 'responseClientId': this.triggerEvent('worker:responseClientId', { application: this, worker: _serviceWorker, ...event.data }) break default: console.log(`Sorry, we are out of ${cmd}.`) } } // private API /** * @namespace API * @description Private API for Public Application * @property {function} _setModel - Create an entry on Models Map * @property {function} _mapModels - Map all models into application namespace and create an associated DataAPI instance * @property {function} _setStarted - Set Application _started flag */ const _API = { /** * @Method _API._setModel * @param {string} entity='' - Data Entity Name for model being set * @param {object} dataAPI={} - DataAPI Instance related to model being set */ _setModel (entity = '', dataAPI = {}) { let _error = null let _data = null try { _models.set(entity, dataAPI) _data = _models.get(entity) } catch (error) { _error = error } return createMethodSignature(_error, _data) }, _mapModels (allModels, application) { let _error = null let _data = null try { for (const entity in allModels) { if (Object.prototype.hasOwnProperty.call(allModels, entity)) { console.debug(entity) const strategy = 'offlineFirst' const model = allModels[entity] const dataAPI = new DataAPI({ application, entity, strategy, model }) this._setModel(entity, dataAPI) } } _data = _models } catch (error) { _error = error } return createMethodSignature(_error, _data) }, _setStarted: (started = false) =&gt; { _started = started return createMethodSignature(null, started) } } /** * @Class Application * @description Application boostrap class * @extends EventSystem * @param {object} config - Application configuration * @param {string} config.name - Application name * @param {string} config.dataStrategy - Data strategy. Recognized values: offlineFirst, onlineFirst, offline, online * @param {boolean} config.useWorker - Use a ServiceWorker in Background * @example {@lang javascript} const _myApp = new Application({ name: 'My App', useWorker: true, dataStrategy: 'offlineFirst' }) * _myApp.on('application:start', onApplicationStart.bind(_myApp)) * _myApp.on('worker:responseClientId', onWorkerResponseClientId.bind(_myApp)) * await _myApp.start() */ export default class Application extends EventSystem { constructor ({ name, dataStrategy = 'offlineFirst', useWorker = false } = {}) { super() _name = name _dataStrategy = dataStrategy || 'offlineFirst' _useWorker = useWorker } get dataStrategy () { return _dataStrategy } get guid () { return _guid } get models () { return _models } get name () { return _name } set name (name) { _name = name } get started () { return _started } get serviceWorker () { return _serviceWorker } /** * @member Application.useWorker * @Description flag if is there ServiceWorker being used * @return {boolean} */ get useWorker () { return _useWorker } /** * @Method Application.setGuidStorage * @description save Application GUID to sessionStorage * @param {string} guid * @return Application GUID saved on sessionStorage */ setGuidStorage (guid) { sessionStorage.setItem('guid', guid) return sessionStorage.getItem('guid') } /** * @Method Application.getGuidStorage * @description get Application GUID saved on sessionStorage * @return Application GUID saved on sessionStorage */ getGuidStorage () { return sessionStorage.getItem('guid') || false } /** * @Method Application.setupAppGuid * @description check if Application has a GUID saved o * @return Application GUID saved on sessionStorage */ setupAppGuid () { const guidCache = this.getGuidStorage() || false if (guidCache) { _guid = guidCache } else { this.setGuidStorage(_guid) } return this.getGuidStorage() } registerWorker (workerFile) { const self = this return new Promise((resolve, reject) =&gt; { if ('serviceWorker' in navigator) { navigator.serviceWorker .register('/' + workerFile, { // scope: '/' }) .then(function (reg) { // registration worked navigator.serviceWorker.addEventListener('message', _workerOnMessage.bind(self)) if (reg.installing) { _serviceWorker = reg.installing _serviceWorker.postMessage({ cmd: 'getClientId', message: null }) } else if (reg.active) { _serviceWorker = reg.active _serviceWorker.postMessage({ cmd: 'getClientId', message: null }) } resolve(createMethodSignature(null, reg)) }) .catch(function (error) { // registration failed resolve(createMethodSignature(error, null)) }) } }) } startVitals () { let _error = null let _data = null try { this.setupAppGuid() const mapModels = _API._mapModels(allModels, this) // start all here _data = { status: { mapModels } } } catch (error) { console.error(error) _error = error } this.triggerEvent('application:startVitals', { application: this, error: _error, data: _data }) return createMethodSignature(_error, _data) } async start () { let _error = null let _data = null try { const vitals = this.startVitals() if (this.useWorker) { await this.registerWorker('ServiceWorker.js') } _API._setStarted(true) _data = { ...vitals.data, started: this.started } } catch (error) { console.error(error) _error = error } this.triggerEvent('application:start', { application: this, error: _error, data: _data }) return createMethodSignature(_error, _data) } } × Search results Close Sponsored by WEB2 Solutions "},"DataAPI.js.html":{"id":"DataAPI.js.html","title":"Source: DataAPI.js","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Source: DataAPI.js import DataTransportLocal from './DataTransportLocal' /** * @Class Data * @description Bootstrap class data for DataAPI */ class Data {} /** * @Class DataAPI * @description Models Data API * @extends Data * @extends DataTransportLocal * @param {object} config - Configuration factory * @param {string} config.application - Provide Accesss to Application scope * @param {string} config.entity - Data entity which the created object is handling * @param {boolean} config.strategy - Data transport strategy * @param {boolean} config.model - Access to related data model * @example const dataAPI = new DataAPI({ application , // Application instance, object entity, // entity name, string strategy, // data strategy, string model // data model, mongoose model }) */ export default class DataAPI extends DataTransportLocal(Data) { #application #entity #strategy #model constructor ({ application, entity, strategy, model } = {}) { super() this.#entity = entity this.#strategy = strategy // offlineFirst, onlineFirst, offline, online this.#model = model this.#application = application } get entity () { return this.#entity } get model () { return this.#model } get strategy () { return this.#strategy } /** * @Method DataAPI.add * @description add a new document to the storage * @param {object} doc - A valid document validated against mongoose model * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object} signature.data - Created document */ async add (doc) { // xxxx console.log(this.#entity, this.#strategy) } /** * @Method DataAPI.edit * @description Edit a document on the storage * @param {string|number} identifier - The primary key value of the desired document * @param {object} doc - A valid document validated against mongoose model * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object} signature.data - Edited document */ async edit (identifier, doc) { // todo console.log(this.#entity, this.#strategy) } /** * @Method DataAPI.delete * @description delete a document from the storage * @param {string|number} identifier - The primary key value of the desired document * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object} signature.data - Deleted document */ async delete (identifier) { // todo console.log(this.#entity, this.#strategy) } /** * @Method DataAPI.findById * @description find a document from the storage by ID * @param {string|number} identifier - The primary key value of the desired document * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object} signature.data - Found document */ async findById (identifier) { // todo console.log(this.#entity, this.#strategy) } /** * @Method DataAPI.findAll * @description find all documents * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {array} signature.data - Array of Found documents */ async findAll () { // todo console.log(this.#entity, this.#strategy) } /** * @Method DataAPI.find * @description find all documents based on the given query * @param {object|null} query - The query object to search documents * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {array} signature.data - Array of Found documents */ async find (query) { // todo console.log(this.#entity, this.#strategy) } } × Search results Close Sponsored by WEB2 Solutions "},"DataTransportLocal.js.html":{"id":"DataTransportLocal.js.html","title":"Source: DataTransportLocal.js","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Source: DataTransportLocal.js 'use strict' // mixin const DataTransportLocal = (DataTransportLocal) =&gt; /** * @Class DataTransportLocal * @description Local transport for DataAPI saving data to IndexedDB */ class extends DataTransportLocal { /** * @Method DataTransportLocal.addLocal * @description addLocal a new document to the storage * @param {object} doc - A valid document validated against mongoose model * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object} signature.data - Created document */ #strategy #entity async addLocal (doc) { // xxxx console.log(this.#entity, this.#strategy) } /** * @Method DataTransportLocal.editLocal * @description Edit a document on the storage * @param {string|number} identifier - The primary key value of the desired document * @param {object} doc - A valid document validated against mongoose model * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object} signature.data - Edited document */ async editLocal (identifier, doc) { // todo console.log(this.#entity, this.#strategy) } /** * @Method DataTransportLocal.deleteLocal * @description deleteLocal a document from the storage * @param {string|number} identifier - The primary key value of the desired document * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object} signature.data - Deleted document */ async deleteLocal (identifier) { // todo console.log(this.#entity, this.#strategy) } /** * @Method DataTransportLocal.findByIdLocal * @description find a document from the storage by ID * @param {string|number} identifier - The primary key value of the desired document * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object} signature.data - Found document */ async findByIdLocal (identifier) { // todo console.log(this.#entity, this.#strategy) } /** * @Method DataTransportLocal.findAllLocal * @description find all documents * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {array} signature.data - Array of Found documents */ async findAllLocal () { // todo console.log(this.#entity, this.#strategy) } /** * @Method DataTransportLocal.findLocal * @description find all documents based on the given query * @param {object|null} query - The query object to search documents * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {array} signature.data - Array of Found documents */ async findLocal (query) { // todo console.log(this.#entity, this.#strategy) } } export default DataTransportLocal × Search results Close Sponsored by WEB2 Solutions "},"utils.js.html":{"id":"utils.js.html","title":"Source: utils.js","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Source: utils.js /** @module utils */ /** * Create default signature method object * @function * @param {string|object} error - The string or error object if have any * @param {object|array|number|string|boolean} data - Information about method execution * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object|array|number|string|boolean} signature.data - Execution data */ export const createMethodSignature = (error = null, data = null) =&gt; { return { error, data } } /** * Create default signature method object * @private * @param {string|object} error - The string or error object if have any * @param {object|array|number|string|boolean} data - Information about method execution * @return {object} signature - Default methods signature format { error, data } * @return {string|object} signature.error - Execution error * @return {object|array|number|string|boolean} signature.data - Execution data */ /** * generates a Universally unique identifier string - alias to uuid() * @function * @return {string} guid / uuid */ export const GUID = () =&gt; { return uuid() } /** * generates a Universally unique identifier string * @function * @return {string} guid / uuid */ export function uuid () { return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) { const r = (Math.random() * 16) | 0 const v = c === 'x' ? r : (r &amp; 0x3) | 0x8 return v.toString(16) }) } × Search results Close Sponsored by WEB2 Solutions "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Modules Classes Application Application boostrap class. Data Bootstrap class data for DataAPI. DataAPI Models Data API. DataTransportLocal Local transport for DataAPI saving data to IndexedDB. Namespaces API Private API for Public Application. × Search results Close Sponsored by WEB2 Solutions "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Classes Classes Application Application boostrap class. Data Bootstrap class data for DataAPI. DataAPI Models Data API. DataTransportLocal Local transport for DataAPI saving data to IndexedDB. Namespaces API Private API for Public Application. × Search results Close Sponsored by WEB2 Solutions "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Namespaces Classes Application Application boostrap class. Data Bootstrap class data for DataAPI. DataAPI Models Data API. DataTransportLocal Local transport for DataAPI saving data to IndexedDB. Namespaces API Private API for Public Application. × Search results Close Sponsored by WEB2 Solutions "},"index.html":{"id":"index.html","title":"Index","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal × Search results Close Sponsored by WEB2 Solutions "},"API.html":{"id":"API.html","title":"Namespace: API","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Namespace: API API Private API for Public Application Properties: Name Type Description _setModel function Create an entry on Models Map _mapModels function Map all models into application namespace and create an associated DataAPI instance _setStarted function Set Application _started flag Source: Application.js, line 67 × Search results Close Sponsored by WEB2 Solutions "},"Application.html":{"id":"Application.html","title":"Class: Application","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Class: Application Application new Application(config) Application boostrap class. Application boostrap class Parameters: Name Type Description config object Application configuration Properties Name Type Description name string Application name dataStrategy string Data strategy. Recognized values: offlineFirst, onlineFirst, offline, online useWorker boolean Use a ServiceWorker in Background Source: Application.js, line 122 Example const _myApp = new Application({ name: 'My App', useWorker: true, dataStrategy: 'offlineFirst' }) _myApp.on('application:start', onApplicationStart.bind(_myApp)) _myApp.on('worker:responseClientId', onWorkerResponseClientId.bind(_myApp)) await _myApp.start() Extends EventSystem Members &lt;static&gt; useWorker flag if is there ServiceWorker being used. flag if is there ServiceWorker being used Source: Application.js, line 180 Methods &lt;static&gt; getGuidStorage() get Application GUID saved on sessionStorage. get Application GUID saved on sessionStorage Source: Application.js, line 200 Returns: Application GUID saved on sessionStorage &lt;static&gt; setGuidStorage(guid) save Application GUID to sessionStorage. save Application GUID to sessionStorage Parameters: Name Type Description guid string Source: Application.js, line 189 Returns: Application GUID saved on sessionStorage &lt;static&gt; setupAppGuid() check if Application has a GUID saved o. check if Application has a GUID saved o Source: Application.js, line 209 Returns: Application GUID saved on sessionStorage × Search results Close Sponsored by WEB2 Solutions "},"Data.html":{"id":"Data.html","title":"Class: Data","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Class: Data Data new Data() Bootstrap class data for DataAPI. Bootstrap class data for DataAPI Source: DataAPI.js, line 6 × Search results Close Sponsored by WEB2 Solutions "},"DataAPI.html":{"id":"DataAPI.html","title":"Class: DataAPI","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Class: DataAPI DataAPI new DataAPI(config) Models Data API. Models Data API Parameters: Name Type Description config object Configuration factory Properties Name Type Description application string Provide Accesss to Application scope entity string Data entity which the created object is handling strategy boolean Data transport strategy model boolean Access to related data model Source: DataAPI.js, line 14 Example const dataAPI = new DataAPI({ application , // Application instance, object entity, // entity name, string strategy, // data strategy, string model // data model, mongoose model }) Extends Data DataTransportLocal Methods &lt;static&gt; add(doc) add a new document to the storage. add a new document to the storage Parameters: Name Type Description doc object A valid document validated against mongoose model Source: DataAPI.js, line 61 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Created document Type object &lt;static&gt; delete(identifier) delete a document from the storage. delete a document from the storage Parameters: Name Type Description identifier string | number The primary key value of the desired document Source: DataAPI.js, line 88 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Deleted document Type object &lt;static&gt; edit(identifier, doc) Edit a document on the storage. Edit a document on the storage Parameters: Name Type Description identifier string | number The primary key value of the desired document doc object A valid document validated against mongoose model Source: DataAPI.js, line 74 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Edited document Type object &lt;static&gt; find(query) find all documents based on the given query. find all documents based on the given query Parameters: Name Type Description query object | null The query object to search documents Source: DataAPI.js, line 126 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Array of Found documents Type array &lt;static&gt; findAll() find all documents. find all documents Source: DataAPI.js, line 114 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Array of Found documents Type array &lt;static&gt; findById(identifier) find a document from the storage by ID. find a document from the storage by ID Parameters: Name Type Description identifier string | number The primary key value of the desired document Source: DataAPI.js, line 101 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Found document Type object × Search results Close Sponsored by WEB2 Solutions "},"DataTransportLocal.html":{"id":"DataTransportLocal.html","title":"Class: DataTransportLocal","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Class: DataTransportLocal DataTransportLocal new DataTransportLocal() Local transport for DataAPI saving data to IndexedDB. Local transport for DataAPI saving data to IndexedDB Source: DataTransportLocal.js, line 5 Methods &lt;static&gt; addLocal(doc) addLocal a new document to the storage. addLocal a new document to the storage Parameters: Name Type Description doc object A valid document validated against mongoose model Source: DataTransportLocal.js, line 11 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Created document Type object &lt;static&gt; deleteLocal(identifier) deleteLocal a document from the storage. deleteLocal a document from the storage Parameters: Name Type Description identifier string | number The primary key value of the desired document Source: DataTransportLocal.js, line 40 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Deleted document Type object &lt;static&gt; editLocal(identifier, doc) Edit a document on the storage. Edit a document on the storage Parameters: Name Type Description identifier string | number The primary key value of the desired document doc object A valid document validated against mongoose model Source: DataTransportLocal.js, line 26 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Edited document Type object &lt;static&gt; findAllLocal() find all documents. find all documents Source: DataTransportLocal.js, line 66 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Array of Found documents Type array &lt;static&gt; findByIdLocal(identifier) find a document from the storage by ID. find a document from the storage by ID Parameters: Name Type Description identifier string | number The primary key value of the desired document Source: DataTransportLocal.js, line 53 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Found document Type object &lt;static&gt; findLocal(query) find all documents based on the given query. find all documents based on the given query Parameters: Name Type Description query object | null The query object to search documents Source: DataTransportLocal.js, line 78 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Array of Found documents Type array × Search results Close Sponsored by WEB2 Solutions "},"module-utils.html":{"id":"module-utils.html","title":"Module: utils","body":" Agnostic Web Foundation Namespaces API Modules utils Classes ApplicationDataDataAPIDataTransportLocal Module: utils Source: utils.js, line 1 Methods &lt;static&gt; createMethodSignature(error, data) Create default signature method object. Create default signature method object Parameters: Name Type Description error string | object The string or error object if have any data object | array | number | string | boolean Information about method execution Source: utils.js, line 12 Returns: signature - Default methods signature format { error, data } Type object signature.error - Execution error Type string | object signature.data - Execution data Type object | array | number | string | boolean &lt;static&gt; GUID() generates a Universally unique identifier string - alias to uuid(). generates a Universally unique identifier string - alias to uuid() Source: utils.js, line 31 Returns: guid / uuid Type string &lt;static&gt; uuid() generates a Universally unique identifier string. generates a Universally unique identifier string Source: utils.js, line 40 Returns: guid / uuid Type string × Search results Close Sponsored by WEB2 Solutions "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
